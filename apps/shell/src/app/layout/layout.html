<!-- Top Navbar -->
<nav class="top-navbar">
  <div class="navbar-left">
    <button
      class="menu-toggle"
      (click)="toggleSidebar()"
      (keyup.enter)="toggleSidebar()"
    >
      <mfs-icon name="menu" size="md"></mfs-icon>
    </button>
    <div class="brand">
      <span class="brand-text">Microfrontends</span>
    </div>
  </div>

  <div class="navbar-right">
    <button
      class="icon-btn"
      (click)="onSettingsClick()"
      (keyup.enter)="onSettingsClick()"
    >
      <mfs-icon name="settings" size="sm"></mfs-icon>
    </button>
    <button
      class="icon-btn"
      (click)="onUserClick()"
      (keyup.enter)="onUserClick()"
    >
      <mfs-icon name="user" size="sm"></mfs-icon>
    </button>
  </div>
</nav>

<div class="layout-container">
  <!-- Sidebar -->
  <aside class="sidebar" [class.open]="sidebarOpen()">
    <!-- Sidebar Navigation -->
    <nav class="sidebar-nav">
      <ul class="nav-list">
        @for (item of navigationItems; track item.route) {
        <li class="nav-item">
          <a
            [routerLink]="item.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: item.route === '/'}"
            class="nav-link"
          >
            <mfs-icon [name]="item.icon" size="sm"></mfs-icon>
            <span class="nav-text">{{ item.title }}</span>
          </a>
        </li>
        }
      </ul>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>
</div>

<!-- Overlay for mobile -->
@if (sidebarOpen()) {
<div
  class="sidebar-overlay"
  (click)="toggleSidebar()"
  (keyup.enter)="toggleSidebar()"
  tabindex="0"
></div>
}
